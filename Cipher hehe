# Cipher who encrypts, with two way: Caesar and Vigenere Ciphing.
# Note: Only encrypts

def Caesar(text, key_number):
    alphabet = 'abcdefghijklmnopqrstuvwxyz'
    encrypted = ''
    for char in text.lower():
        if char in alphabet:
            index = alphabet.index(char)
            shifted_index = (index + key_number) % 26
        #print(f'{index} : {shifted_index}')
            encrypted += alphabet[shifted_index]
        else:
            encrypted += char
    print('\n' + encrypted)
    exit()

def Vigenere(text, password, direction=1):
    pw_index = 0
    alphabet = 'abcdefghijklmnopqrstuvwxyz'
    encrypted = ''
    # Differentiate the non-letter or letter
    for char in text.lower():
        if not char.isalpha():
            encrypted += char
        # Letter goes here = Finding the right key to be shifted
        vigi_message = password[pw_index % len(password)]
        pw_index += 1
    
        # Define the offset and the encrypted
        offset = alphabet.index(vigi_message)
        index = alphabet.index(char)
        new_index = (index + offset*direction) % len(alphabet)
        encrypted += alphabet[new_index]
    
    print (f'\nencrypted')
    
while True:
    print("\nWelcome to Encryptor!")
    print("\nThe tool that allows you to encrypt your text using two different methods:)")
    print("1. Caesar Cipher: A simple substitution cipher where each letter is shifted by a certain number.")
    print("2. Vigenere Cipher: A more advanced encryption method using a keyword to shift letters.")
    entrance = input('\nDo you wish to proceed? Y/N \n')

    while entrance.lower() == 'y' or entrance.lower() == 'yes':
        method = input('\nChoose the encryption method: Caesar/Vigenere\n')
        if method.lower() == 'caesar':
            print('\nWelcome to Caesar Cipher')
            text = input('Now enter your text: ')
            key_number = input('Enter your shifting number: ')
            if not key_number.isdigit():
                print('Invalid Input, come again.')
                continue
            Caesar(text, int(key_number))
        elif method.lower() == 'vigenere':
            print('\nWelcome to Vigenere Cipher')
            text = input('\nNow enter your text: ')
            password = input('Enter your shifting word password: ')
            Vigenere(text, password)
        else:
            print('Invalid input, come again.')
    if entrance.lower() == 'n' or entrance.lower() == 'no':
        print('\nExiting the program.')
        exit()
    else:
        print('\nInvalid Input, come again.')
        

